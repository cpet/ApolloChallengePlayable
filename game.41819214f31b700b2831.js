!function(){"use strict";var t,e={490:function(t,e,n){var i=n(666),o=n.n(i),r=n(979);function a(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n;return e=t,n=[{key:"getRandomIntInclusive",value:function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1)+t)}},{key:"chance",value:function(t){return Math.random()<t}}],null&&a(e.prototype,null),n&&a(e,n),t}(),u=n(358);function l(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var h,c=function(){function t(e,n,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.points=1,this.angularMomentum=0,this.bt=new r.BitmapText(e,{fontName:"ETH_B_gofa",fontSize:180}),this.bt.visible=!0,this.bt.interactive=!1,this.bt.anchor.x=this.bt.anchor.y=.5,this._keyCode="",this.letter=e,n&&this.addToContainer(n),this.tint=i||f.normal,this.vel=new r.Point,this.acc=new r.Point}var e,n;return e=t,n=[{key:"update",value:function(t){this.bt.x+=this.vel.x*t,this.bt.y+=this.vel.y*t,this.vel.x+=this.acc.x*t,this.vel.y+=this.acc.y*t,this.bt.rotation+=this.angularMomentum*t,this.bt.x<R.leftBound?(this.bt.x=R.leftBound,this.vel.x=Math.abs(this.vel.x)):this.bt.x>R.rightBound&&(this.bt.x=R.rightBound,this.vel.x=-Math.abs(this.vel.x))}},{key:"doMatchedAnimation",value:function(){this.setVelAndAcc(),this.bt.alpha=1,this.bt.scale.x=this.bt.scale.y=1,u.p8.to(this.bt,{duration:1,alpha:.01,onComplete:this.reset.bind(this)}),u.p8.to(this.bt.scale,{duration:1,x:1.5,y:1.5})}},{key:"addToContainer",value:function(t){this._container=t,this._container.addChild(this.bt)}},{key:"removeFromParent",value:function(){this._container?this._container.removeChild(this.bt):this._container=null}},{key:"reset",value:function(){this.setVelAndAcc(),this.bt.rotation=0,this.bt.alpha=1,this.bt.scale.x=this.bt.scale.y=1,this.bt.visible=!0,this.points=1,this.tint=f.normal,this.removeFromParent(),u.p8.killTweensOf(this.bt),u.p8.killTweensOf(this.bt.scale)}},{key:"hide",value:function(){this.bt.visible=!1}},{key:"isRegular",value:function(){return this._tint===f.normal}},{key:"isGolden",value:function(){return this._tint===f.gold}},{key:"letter",get:function(){return this.bt.text},set:function(t){this.bt.text=t,this._keyCode="Key"+t}},{key:"keyCode",get:function(){return this._keyCode}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this.bt.tint=this._tint}},{key:"getType",value:function(){return this._tint==f.normal?h.normal:h.gold}},{key:"setXY",value:function(t,e){if(this.bt)return this.bt.x=t,this.bt.y=e,this}},{key:"setVelAndAcc",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;this.vel.x=t,this.vel.y=e,this.acc.x=n,this.acc.y=i}}],n&&l(e.prototype,n),t}();!function(t){t[t.normal=0]="normal",t[t.gold=1]="gold"}(h||(h={}));var f={normal:2109370,gold:14264849};function p(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var d=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pool=[]}var e,n,i;return e=t,i=[{key:"getInstance",value:function(){return t._instance||(t._instance=new t,t._instance.initPool()),t._instance}}],(n=[{key:"initPool",value:function(){for(var t=0;t<80;t++)this._pool.push(new c("A"))}},{key:"pop",value:function(){return this._pool.length>0?this._pool.pop():new c("A")}},{key:"poolBack",value:function(t){this._pool.push(t)}}])&&p(e.prototype,n),i&&p(e,i),t}();function v(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t){return _=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},_(t)}function y(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function b(t,e){return b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},b(t,e)}var m=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var g=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&b(t,e)}(s,t);var e,n,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(i);if(o){var n=_(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return y(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this)).startBtn=new r.BitmapText("( START )",{fontName:"ETH_B_gofa",fontSize:120,align:"center"}),t.startBtn.interactive=!0,t.startBtn.buttonMode=!0,t.startBtn.x=R.halfWidth,t.startBtn.y=R.halfHeight,t.startBtn.anchor.x=t.startBtn.anchor.y=.5,t.addChild(t.startBtn),t}return e=s,(n=[{key:"resize",value:function(t,e){var n=e/R.height;this.scale.x=this.scale.y=n;var i=R.width*n;i<t&&(this.x=.5*(t-i))}}])&&v(e.prototype,n),s}(r.Container);function w(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function k(t){return k=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},k(t)}function B(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t,e){return P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},P(t,e)}var x=function(t){return t&&"undefined"!=typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};var M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&P(t,e)}(s,t);var e,n,i,o,a=(i=s,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=k(i);if(o){var n=k(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return B(this,t)});function s(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(t=a.call(this))._pointsTemplate="BLUE LETTERS: [ph_num_points]\nGOLD LETTERS: [ph_num_gold_points]\nFAULTS: [ph_num_faults]\n\nTOTAL SCORE:\nBLUE LETTERS\n+( GOLD LETTERS X 2 )\n-( FAULTS X 3 )\n\nTOTAL SCORE: [ph_total_points]",t.bt=new r.BitmapText(t._pointsTemplate,{fontName:"ETH_B_gofa",fontSize:72,align:"left"}),t.startBtn=new r.BitmapText("( PLAY AGAIN )",{fontName:"ETH_B_gofa",fontSize:120,align:"center"}),t.startBtn.interactive=!0,t.startBtn.buttonMode=!0,t.startBtn.x=R.halfWidth,t.startBtn.y=R.halfHeight+340,t.startBtn.anchor.x=t.startBtn.anchor.y=.5,t.bt.y=100,t.addChild(t.bt),t.addChild(t.startBtn),t}return e=s,(n=[{key:"updatePoints",value:function(t,e,n){var i=t+2*e-3*n,o=this._pointsTemplate.replace("[ph_num_points]",""+t).replace("[ph_num_gold_points]",""+e).replace("[ph_num_faults]",""+n).replace("[ph_total_points]",""+i);this.bt.text=o}},{key:"resize",value:function(t,e){var n=e/R.height;this.scale.x=this.scale.y=n;var i=R.width*n;i<t&&(this.x=.5*(t-i))}}])&&w(e.prototype,n),s}(r.Container);function O(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var T=n(569),C=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._normalPoints=0,this._goldenPoints=0,this._faultPoints=0,this._spawnEvery=1.25,this._spawnNumLetters=2,this._numTotalWaves=16,this._numWavesLeft=16,this._toBeRemoved=[],this._gameIsRunning=!1,this._app=e,this._gameWorld=new r.Container,this.initStartMenu(),this.initPointsMenu(),this._app.stage.addChild(this._gameWorld),this._bgGraphics=new r.Graphics,this._bgGraphics.beginFill(14282490),this._bgGraphics.drawRect(0,0,R.width,R.height),this._bgGraphics.endFill(),this._gameWorld.addChild(this._bgGraphics),T.events.on("pressed",null,this.onKeyPressed.bind(this)),this._pool=d.getInstance(),this._letters=[],this.showStartMenu(),this._app.ticker.add((function(t){return n.update(t)}))}var e,n;return e=t,(n=[{key:"startGame",value:function(){this._gameIsRunning=!0,this.reset(),this.showGame(),this.spawnLetterWave()}},{key:"stopGame",value:function(){this.clearLetters(),this._gameIsRunning=!1}},{key:"spawnLetterWave",value:function(){for(var t=0,e=0;e<this._spawnNumLetters;e++){t=s.getRandomIntInclusive(R.leftBound,R.rightBound);var n=this._pool.pop();n.reset(),n.setXY(t,-50),n.addToContainer(this._gameWorld),n.letter=this._getRandomLetter(),n.tint=s.chance(.25)?f.gold:f.normal;var i,o=.5;i=t<R.halfWidth?s.getRandomIntInclusive(0,2):s.getRandomIntInclusive(-2,0);var r=s.chance(.5)?1:-1,a=.025;n.isGolden()?(n.angularMomentum=r*s.getRandomIntInclusive(15,30)/Math.PI/180,o=1,a=.05):n.angularMomentum=r*s.getRandomIntInclusive(0,15)/Math.PI/180,n.setVelAndAcc(i,o,0,a),this._letters.push(n)}if(this._numWavesLeft>0&&this._gameIsRunning){var l=this;this._numWavesLeft--,u.p8.delayedCall(this._spawnEvery,(function(){l.spawnLetterWave()}))}else{var h=this;u.p8.delayedCall(5,(function(){h.stopGame(),h.showPointsMenu()}))}}},{key:"resize",value:function(t,e){var n=e/R.height;this._gameWorld.scale.x=this._gameWorld.scale.y=n;var i=R.width*n;i<t&&(this._gameWorld.x=.5*(t-i)),this._startMenu.resize(t,e),this._pointsMenu.resize(t,e)}},{key:"update",value:function(t){var e=this;for(this._letters.forEach((function(n,i){n.update(t),n.bt.y>R.bottomBound&&e._toBeRemoved.push(n)})),T.update(),this._toBeRemoved.forEach((function(t){e.removeLetter(t),t.hide(),e._pool.poolBack(t)}));this._toBeRemoved.length>0;)this._toBeRemoved.pop()}},{key:"onKeyPressed",value:function(t,e){this.checkLetterKey(t)}},{key:"checkLetterKey",value:function(t){for(var e=0;e<this._letters.length;e++){var n=this._letters[e];if(n.keyCode==t)return this.onLetterMatched(n),this.removeLetter(n,e),void this._pool.poolBack(n)}this._faultPoints+=3}},{key:"removeLetter",value:function(t,e){null!=e&&null!=e||(e=this._letters.indexOf(t)),this._letters.splice(e,1)}},{key:"onLetterMatched",value:function(t){t.doMatchedAnimation(),t.getType()==h.normal?this._normalPoints+=t.points:this._goldenPoints+=2*t.points}},{key:"clearLetters",value:function(){var t=this;this._letters.forEach((function(e){e.reset(),t._pool.poolBack(e)})),this._letters=[]}},{key:"reset",value:function(){this._normalPoints=0,this._goldenPoints=0,this._faultPoints=0,this._numWavesLeft=this._numTotalWaves}},{key:"initStartMenu",value:function(){var t=this;this._startMenu=new g,this._startMenu.startBtn.on("pointerdown",(function(){t.startGame()}))}},{key:"showStartMenu",value:function(){this._app.stage.addChild(this._startMenu),this._startMenu.visible=!0,this._app.stage.removeChild(this._gameWorld),this._gameWorld.visible=!1,this._app.stage.removeChild(this._pointsMenu),this._pointsMenu.visible=!1}},{key:"initPointsMenu",value:function(){var t=this;this._pointsMenu=new M,this._pointsMenu.startBtn.on("pointerdown",(function(){t.startGame()}))}},{key:"showPointsMenu",value:function(){this._app.stage.removeChild(this._startMenu),this._startMenu.visible=!1,this._app.stage.removeChild(this._gameWorld),this._gameWorld.visible=!1,this._app.stage.addChild(this._pointsMenu),this._pointsMenu.visible=!0,this._pointsMenu.updatePoints(this._normalPoints,this._goldenPoints,this._faultPoints)}},{key:"showGame",value:function(){this._app.stage.removeChild(this._startMenu),this._startMenu.visible=!1,this._app.stage.addChild(this._gameWorld),this._gameWorld.visible=!0,this._app.stage.removeChild(this._pointsMenu),this._pointsMenu.visible=!1}},{key:"_getRandomLetter",value:function(){return L[Math.floor(Math.random()*L.length)]}}])&&O(e.prototype,n),t}(),R={width:1080,height:1080,leftBound:100,rightBound:880,bottomBound:1130,halfWidth:540,halfHeight:540},L=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];function E(t,e,n,i,o,r,a){try{var s=t[r](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(i,o)}function W(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var r=t.apply(e,n);function a(t){E(r,i,o,a,s,"next",t)}function s(t){E(r,i,o,a,s,"throw",t)}a(void 0)}))}}var S,j=window.innerWidth,A=window.innerHeight,I=new r.Application({backgroundColor:13882323,width:j,height:A});function G(){return z.apply(this,arguments)}function z(){return(z=W(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){var n=r.Loader.shared;n.add("Cooper Black","./assets/fonts/letters_ss.fnt"),n.onComplete.once((function(){t()})),n.onError.once((function(){e()})),n.load()})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}window.onload=W(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return document.body.appendChild(I.view),e=void 0,(e=function(){I.renderer.resize(window.innerWidth,window.innerHeight),S&&S.resize(window.innerWidth,window.innerHeight)})(),window.addEventListener("resize",e),t.next=4,G();case 4:I.stage.interactive=!0,(S=new C(I)).resize(I.screen.width,I.screen.height);case 7:case"end":return t.stop()}var e}),t)})))}},n={};function i(t){var o=n[t];if(void 0!==o)return o.exports;var r=n[t]={id:t,loaded:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}i.m=e,t=[],i.O=function(e,n,o,r){if(!n){var a=1/0;for(h=0;h<t.length;h++){n=t[h][0],o=t[h][1],r=t[h][2];for(var s=!0,u=0;u<n.length;u++)(!1&r||a>=r)&&Object.keys(i.O).every((function(t){return i.O[t](n[u])}))?n.splice(u--,1):(s=!1,r<a&&(a=r));if(s){t.splice(h--,1);var l=o();void 0!==l&&(e=l)}}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[n,o,r]},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,{a:e}),e},i.d=function(t,e){for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t},function(){var t={179:0};i.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,a=n[0],s=n[1],u=n[2],l=0;if(a.some((function(e){return 0!==t[e]}))){for(o in s)i.o(s,o)&&(i.m[o]=s[o]);if(u)var h=u(i)}for(e&&e(n);l<a.length;l++)r=a[l],i.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return i.O(h)},n=self.webpackChunkpixi_typescript_boilerplate=self.webpackChunkpixi_typescript_boilerplate||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var o=i.O(void 0,[875],(function(){return i(490)}));o=i.O(o)}();